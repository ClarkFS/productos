<div class="agregar-container">
  <div class="form-header">
    <h2>Agregar Nuevo Producto</h2>
  </div>

  <form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="product-form">
    <div class="form-grid">
      <div class="form-group">
        <label>Nombre del Producto</label>
        <input type="text" formControlName="nombre" placeholder="Nombre" />
      </div>

      <div class="form-group">
        <label>Descripción</label>
        <textarea
          formControlName="descripcion"
          placeholder="Descripción del producto"
        ></textarea>
      </div>

      <div class="form-group">
        <label>Precio</label>
        <input type="number" formControlName="precio" placeholder="0.00" />
      </div>

      <div class="form-group">
        <label>Categoría</label>
        <select formControlName="id_categoria">
          <option value="">Seleccionar categoría</option>
          <option *ngFor="let cat of categories" [value]="cat.idCategoria">
            {{ cat.nombre }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label>Stock</label>
        <input type="number" formControlName="stock" placeholder="0" />
      </div>

      <div class="form-group">
        <label>Imagen</label>
        <div class="image-upload">
          <input
            type="file"
            (change)="onImageSelected($event)"
            accept="image/*"
          />
          <div class="preview" *ngIf="productForm.get('url_img')?.value">
            <img [src]="productForm.get('url_img')?.value" alt="Preview" />
          </div>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="cancel-btn">Cancelar</button>
      <button type="submit" class="submit-btn" [disabled]="!productForm.valid">
        Guardar Producto
      </button>
    </div>
  </form>
</div>
