<div class="admin-container">
  <div class="admin-header">
    <h1>Panel de Administración</h1>
    <button class="add-button" routerLink="/admin/agregar">
      <svg width="20" height="20" viewBox="0 0 24 24">
        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
      </svg>
      Agregar Producto
    </button>
  </div>

  <div class="products-table">
    <table>
      <thead>
        <tr>
          <th>Imagen</th>
          <th>Nombre</th>
          <th>Categoría</th>
          <th>Precio</th>
          <th>Stock</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let producto of productos">
          <td>
            <img [src]="producto.urlImg" [alt]="producto.nombre">
          </td>
          <td>
            <div>{{ producto.nombre }}</div>
            <small style="color: rgba(255,255,255,0.5)">{{ producto.descripcion }}</small>
          </td>
          <td>{{ producto.categoria?.nombre }}</td>
          <td>€{{ producto.precio.toFixed(2) }}</td> 
          <td>
            <span class="stock-status" 
                  [class.stock-high]="producto.stock > 20"
                  [class.stock-medium]="producto.stock <= 20 && producto.stock > 5"
                  [class.stock-low]="producto.stock <= 5">
              {{ producto.stock }} unidades
            </span>
          </td>
          <td class="actions">
            <button class="edit-btn" (click)="editProduct(producto)">
              <svg width="18" height="18" viewBox="0 0 24 24">
                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
              </svg>
            </button>
            <button class="delete-btn" (click)="deleteProduct(producto.idProducto)">
              <svg width="18" height="18" viewBox="0 0 24 24">
                <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
              </svg>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
